(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{M:()=>z});var t={baseUrl:"https://nomoreparties.co/v1/wff-cohort-14",headers:{authorization:"ab022e1a-b80f-4939-8f48-ddab79fbed68","Content-Type":"application/json"}},n=function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))},o=function(e,o,r,c,i,l,u,s){var d=o.querySelector(".places__item").cloneNode(!0),f=d.querySelector(".card__image"),p=d.querySelector(".card__title"),m=d.querySelector(".card__delete-button"),v=d.querySelector(".card__like-button"),y=d.querySelector(".card__like-container");return f.src=e.link,f.alt=e.name,p.textContent=e.name,l?m.addEventListener("click",(function(){var o;r(d),o=e._id,fetch("".concat(t.baseUrl,"/cards/").concat(o),{method:"DELETE",headers:t.headers}).then(n).catch((function(e){console.log(e)}))})):m.style.display="none",f.addEventListener("click",(function(){c(e.name,e.link)})),v.addEventListener("click",(function(){u(v,e._id,y)})),i(y,e.likes.length),s&&a(v),d},r=function(e){e.remove()},c=function(e,o,r){e.classList.contains("card__like-button_is-active")?function(e){return fetch("".concat(t.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:t.headers}).then(n).catch((function(e){console.log(e)}))}(o).then((function(t){a(e),i(r,t.likes.length)})).catch((function(e){console.error(e)})):function(e){return fetch("".concat(t.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:t.headers}).then(n).catch((function(e){console.log(e)}))}(o).then((function(t){a(e),i(r,t.likes.length)})).catch((function(e){console.log(e)}))},a=function(e){e.classList.toggle("card__like-button_is-active")},i=function(e,t){e.textContent=t},l=function(e){e.classList.add("popup_is-opened"),e.classList.add("popup_is-animated");var t=e.querySelector(".popup__close");window.addEventListener("keydown",d),e.addEventListener("click",f),t.addEventListener("click",s)},u=function(e){e.classList.remove("popup_is-opened"),window.removeEventListener("keydown",d),e.removeEventListener("click",f),e.querySelector(".popup__close").removeEventListener("click",s)},s=function(e){var t=document.querySelector(".popup_is-opened");u(t)},d=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");u(t)}},f=function(e){e.target===e.currentTarget&&u(e.currentTarget)},p={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button-not-active",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error-active"},m=function(e,t,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(p.inputErrorClass),o.classList.add(p.errorClass),o.textContent=n},v=function(e,t,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),o.classList.remove(n.errorClass),o.textContent=""},y=function(e){var t=Array.from(e.querySelectorAll(p.inputSelector)),n=e.querySelector(p.submitButtonSelector);t.forEach((function(o){o.addEventListener("input",(function(){!function(e,t){t.validity.patternMismatch?(t.setCustomValidity(t.dataset.errorMessage),m(e,t,t.validationMessage)):(t.setCustomValidity(""),v(e,t,p),0===t.value.length?(t.setCustomValidity("вы пропустили это поле."),m(e,t,t.validationMessage)):(t.setCustomValidity(""),v(e,t,p),t.validity.valid?v(e,t,p):m(e,t,t.validationMessage)))}(e,o),h(t,n,p)}))}))},h=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove(n.inactiveButtonClass)):(t.disabled=!0,t.classList.add(n.inactiveButtonClass))},_=function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),o=e.querySelector(t.submitButtonSelector);n.forEach((function(n){v(e,n,t)})),h(n,o,t)};function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var S="",g=document.querySelector(".places__list"),E=document.querySelector(".popup_type_edit"),C=document.querySelector(".profile__edit-button"),k=document.querySelector(".profile__add-button"),q=document.querySelector(".popup_type_new-card"),L=document.querySelector(".profile__title"),A=document.querySelector(".profile__description"),x=document.forms["edit-profile"],w=x.elements.name,T=x.elements.description,O=document.forms["new-place"],U=O.elements["place-name"],j=O.elements.link,P=document.querySelector(".profile__image"),M=document.querySelector(".popup_type_avatar"),B=document.forms["avatar-profile"],D=B.elements.link,N=document.querySelectorAll(".popup__button"),V=document.querySelector("#card-template").content,I=document.querySelector(".popup__image"),J=document.querySelector(".popup__caption"),G=document.querySelector(".popup_type_image"),H=function(e,t){I.src=t,J.textContent=e,I.alt=e,l(G)};!function(e){Array.from(document.querySelectorAll(e.formSelector)).forEach((function(e){y(e)}))}(p),C.addEventListener("click",(function(){_(x,p),l(E),w.value=L.textContent,T.value=A.textContent})),k.addEventListener("click",(function(){U.value="",j.value="",_(O,p),l(q)})),O.addEventListener("submit",(function(e){var a;e.preventDefault(),z(!0),(a={name:U.value,link:j.value},fetch("".concat(t.baseUrl,"/cards"),{method:"POST",headers:t.headers,body:JSON.stringify(a)}).then(n).catch((function(e){console.log(e)})).finally((function(){z(!1)}))).then((function(e){var t=o(e,V,r,H,i,!0,c,!1);g.prepend(t),O.reset(),u(q)}))})),x.addEventListener("submit",(function(e){var o;e.preventDefault(),L.textContent=w.value,A.textContent=T.value,z(!0),o={name:L.textContent,about:A.textContent},fetch("".concat(t.baseUrl,"/users/me"),{method:"PATCH",headers:t.headers,body:JSON.stringify(o)}).then(n).catch((function(e){console.log(e)})).finally((function(){z(!1)})),u(E)})),Promise.all([fetch("".concat(t.baseUrl,"/users/me"),{method:"GET",headers:t.headers}).then(n).catch((function(e){console.log(e)})),fetch("".concat(t.baseUrl,"/cards"),{method:"GET",headers:t.headers}).then(n).catch((function(e){console.log(e)}))]).then((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,c,a,i=[],l=!0,u=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=c.call(n)).done)&&(i.push(o.value),i.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],u=a[1];L.textContent=l.name,A.textContent=l.about,S=l.avatar,P.setAttribute("style","background-image: url('".concat(S,"')")),u.forEach((function(e){var t=o(e,V,r,H,i,e.owner._id===l._id,c,e.likes.some((function(e){return e._id===l._id})));g.append(t)}))})),P.addEventListener("click",(function(){D.value="",_(B,p),l(M)})),B.addEventListener("submit",(function(e){var o;e.preventDefault(),P.setAttribute("style","background-image: url('".concat(D.value,"')")),z(!0),o=D.value,fetch("".concat(t.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:t.headers,body:JSON.stringify({avatar:o})}).then(n).catch((function(e){console.log(e)})).finally((function(){z(!1)})),B.reset(),u(M)}));var z=function(e){e?N.forEach((function(e){e.textContent="Сохранение..."})):N.forEach((function(e){e.textContent="Сохранить"}))}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2tCLEdBQ3JCQSxFQUNDM0IsRUFBT25DLFNBQVEsU0FBQytELEdBQ1pBLEVBQUdoSSxZQUFjLGVBQ3JCLElBRUFvRyxFQUFPbkMsU0FBUSxTQUFDK0QsR0FDWkEsRUFBR2hJLFlBQWMsV0FDckIsR0FFUixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi8uL3NyYy9jYXJkcy5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL2NvbXBvbmVudHMvYXBpLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYvLi9zcmMvY29tcG9uZW50cy9jYXJkLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYvLi9zcmMvY29tcG9uZW50cy9tb2RhbC5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL2NvbXBvbmVudHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxyXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZycsXHJcbiAgICB9LFxyXG5dO1xyXG4iLCJpbXBvcnQge3NhdmVMb2FkaW5nfSBmcm9tICcuLi9pbmRleCdcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIGJhc2VVcmw6ICdodHRwczovL25vbW9yZXBhcnRpZXMuY28vdjEvd2ZmLWNvaG9ydC0xNCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogJ2FiMDIyZTFhLWI4MGYtNDkzOS04ZjQ4LWRkYWI3OWZiZWQ2OCcsXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIH0sXHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVSZXNwb25zZSA9IChyZXNwb25zZSkgPT4ge1xyXG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICB9XHJcbiAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG59XHJcblxyXG4vL9C/0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VyID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke2NvbmZpZy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pXHJcbn07XHJcblxyXG4vL9C+0YLQv9GA0LDQstC60LAg0LTQsNC90L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQvdCwINGB0LXRgNCy0LXRgFxyXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlciA9ICh1c2VyKSA9PiB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7Y29uZmlnLmJhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyKVxyXG4gICAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBzYXZlTG9hZGluZyhmYWxzZSlcclxuICAgIH0pXHJcbn1cclxuXHJcbi8v0L/QvtC70YPRh9C10L3QuNC1INC80LDRgdGB0LjQstCwINC60LDRgNGC0L7Rh9C10LpcclxuZXhwb3J0IGNvbnN0IGdldEluaXRpYWxDYXJkcyA9ICgpID0+IHtcclxuICAgIHJldHVybiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxufVxyXG5cclxuLy/QvtGC0L/RgNCw0LLQutCwINC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdC10YDQstC10YBcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNhcmRBcGkgPSAoY2FyZCkgPT4ge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke2NvbmZpZy5iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhcmQpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBzYXZlTG9hZGluZyhmYWxzZSlcclxuICAgIH0pXHJcbn1cclxuXHJcbi8v0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4INGBINGB0LXRgNCy0LXRgNCwXHJcbmV4cG9ydCBjb25zdCBkZWxldGVDYXJkQXBpID0gKGNhcmRJZCkgPT4ge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke2NvbmZpZy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxufVxyXG4vL9C+0YLQv9GA0LDQstC60LAg0LvQsNC50LrQsCDQutCw0YDRgtC+0YfQutC4INC90LAg0YHQtdGA0LLQtdGAXHJcbmV4cG9ydCBjb25zdCBwdXNoTGlrZUNhcmRBcGkgPSAoY2FyZElkKSA9PiB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7Y29uZmlnLmJhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnNcclxuICAgIH0pXHJcbiAgICAudGhlbihoYW5kbGVSZXNwb25zZSlcclxuICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG59XHJcbi8v0YPQtNCw0LvQtdC90LjQtSDQu9Cw0LnQutCwINC60LDRgNGC0L7Rh9C60Lgg0YEg0YHQtdGA0LLQtdGA0LBcclxuZXhwb3J0IGNvbnN0IGRlbGV0ZUNhcmRMaWtlQXBpID0gKGNhcmRJZCkgPT4ge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke2NvbmZpZy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxufVxyXG4vL9C+0YLQv9GA0LDQstC60LAg0L3QsCDRgdC10YDQstC10YAg0L3QvtCy0L7Qs9C+INC40LfQvtCx0YDQsNC20LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuZXhwb3J0IGNvbnN0IG5ld0F2YXRhckFwaSA9IChhdmF0YXIpID0+IHtcclxuICAgIHJldHVybiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7YXZhdGFyOiBhdmF0YXJ9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgc2F2ZUxvYWRpbmcoZmFsc2UpXHJcbiAgICB9KVxyXG59XHJcbiIsImltcG9ydCB7IGRlbGV0ZUNhcmRBcGksIHB1c2hMaWtlQ2FyZEFwaSxcclxuICAgIGRlbGV0ZUNhcmRMaWtlQXBpIH0gZnJvbSAnLi9hcGknXHJcbi8v0YTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDYXJkID0gKFxyXG4gICAgY2FyZCxcclxuICAgIGNhcmRUZW1wbGF0ZSxcclxuICAgIGRlbGV0ZUNhcmRFbGVtZW50Rm4sXHJcbiAgICBvcGVuUG9wdXBJbWFnZUZuLFxyXG4gICAgY2FyZExpa2VzTnVtYmVyRm4sXHJcbiAgICBpc015Q2FyZCxcclxuICAgIGhhbmRsZUxpa2VzRm4sXHJcbiAgICBoYXNNeUxpa2VcclxuKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcucGxhY2VzX19pdGVtJykuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgY29uc3QgY2FyZEltYWdlID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XHJcbiAgICBjb25zdCBjYXJkVGl0bGUgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKTtcclxuICAgIGNvbnN0IGNhcmREZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVsZXRlLWJ1dHRvbicpO1xyXG4gICAgY29uc3QgY2FyZExpa2VCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKTtcclxuICAgIGNvbnN0IGNhcmRMaWtlc0NvbnRhaW5lciA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWNvbnRhaW5lcicpO1xyXG5cclxuICAgIGNhcmRJbWFnZS5zcmMgPSBjYXJkLmxpbms7XHJcbiAgICBjYXJkSW1hZ2UuYWx0ID0gY2FyZC5uYW1lO1xyXG4gICAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gY2FyZC5uYW1lO1xyXG4gICBcclxuICAgIC8v0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbiAgICAvL9C10YHQu9C4INC60LDRgNGC0L7Rh9C60LAg0YHQvtC30LTQsNC90LAg0LzQvdC+0LksINC90LDQttC40LzQsNC10Lwg0L3QsCDQutC+0YDQt9C40L3Rg1xyXG4gICAgaWYoaXNNeUNhcmQpe1xyXG4gICAgICAgIGNhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGRlbGV0ZUNhcmRFbGVtZW50Rm4oY2FyZEVsZW1lbnQpXHJcbiAgICAgICAgICAgIGRlbGV0ZUNhcmRBcGkoY2FyZC5faWQpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2UgeyAvLyDQuNC90LDRh9C1INC40LrQvtC90LrQsCDQutC+0YDQt9C40L3RiyDQvdC1INC+0YLQvtCx0YDQsNC20LDQtdGC0YHRj1xyXG4gICAgICAgIGNhcmREZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICB9XHJcbiAgICAvL9C90LDQstC10YHQuNC70Lgg0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0LrQsNGA0YLQuNC90LrRgyDQutCw0YDRgtC+0YfQutC4XHJcbiAgICBjYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgb3BlblBvcHVwSW1hZ2VGbihjYXJkLm5hbWUsIGNhcmQubGluayk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL9C90LDQstC10YHQuNC70Lgg0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0LrQvdC+0L/QutGDINC70LDQudC60LBcclxuICAgIGNhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGhhbmRsZUxpa2VzRm4oY2FyZExpa2VCdXR0b24sIGNhcmQuX2lkLCBjYXJkTGlrZXNDb250YWluZXIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FyZExpa2VzTnVtYmVyRm4oY2FyZExpa2VzQ29udGFpbmVyLCBjYXJkLmxpa2VzLmxlbmd0aCk7XHJcblxyXG4gICAgaWYoaGFzTXlMaWtlKXtcclxuICAgICAgIGxpa2VDYXJkKGNhcmRMaWtlQnV0dG9uKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59O1xyXG5cclxuLy/RhNGD0L3QutGG0LjRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60Lgg0LjQtyBET01cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZUNhcmRFbGVtZW50ID0gKGNhcmQpID0+IHtcclxuICAgIGNhcmQucmVtb3ZlKCk7XHJcbn07XHJcbi8v0YTRg9C90LrRhtC40Y8g0LTQu9GPINGA0LDQsdC+0YLRiyDRgSDQutC90L7Qv9C60L7QuSDQu9Cw0LnQutCwXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVMaWtlcyA9IChlbGVtZW50LCBjYXJkSWQsIGxpa2UpID0+IHtcclxuICAgIGlmKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkX19saWtlLWJ1dHRvbl9pcy1hY3RpdmUnKSkgey8v0LXRgdC70Lgg0LvQsNC50Log0YPQttC1INC/0L7RgdGC0LDQstC70LXQvVxyXG4gICAgICAgIGRlbGV0ZUNhcmRMaWtlQXBpKGNhcmRJZCkvL9GD0LTQsNC70LjRgtGMINC70LDQudC6INGBINGB0LXRgNCy0LXRgNCwXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBsaWtlQ2FyZChlbGVtZW50KS8v0L/QvtC80LXQvdGP0YLRjCDRhtCy0LXRgiDRgdC10YDQtNC10YfQutCwXHJcbiAgICAgICAgICAgIGNhcmRMaWtlc051bWJlcihsaWtlLCByZXMubGlrZXMubGVuZ3RoKS8v0LjQt9C80LXQvdC40YLRjCDQutC+0LvQuNGH0LXRgdGC0LLQviDQu9Cw0LnQutC+0LIg0L3QsCDQutCw0YDRgtC+0YfQutC1XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHVzaExpa2VDYXJkQXBpKGNhcmRJZCkvL9C40L3QsNGH0LUg0L7RgtC/0YDQsNCy0LjRgtGMINC70LDQudC6INC90LAg0YHQtdGA0LLQtdGAXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBsaWtlQ2FyZChlbGVtZW50KS8v0L/QvtC80LXQvdGP0YLRjCDRhtCy0LXRgiDRgdC10YDQtNC10YfQutCwXHJcbiAgICAgICAgICAgIGNhcmRMaWtlc051bWJlcihsaWtlLCByZXMubGlrZXMubGVuZ3RoKS8v0LjQt9C80LXQvdC40YLRjCDQutC+0LvQuNGH0LXRgdGC0LLQviDQu9Cw0LnQutC+0LIg0L3QsCDQutCw0YDRgtC+0YfQutC1XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLy/QvNC10L3Rj9C10YIg0YbQstC10YIg0LvQsNC50LrQvdGD0YLQvtCz0L4g0YHQtdGA0LTQtdGH0LrQsFxyXG5jb25zdCBsaWtlQ2FyZCA9IChlbGVtZW50KSA9PiB7XHJcbiAgICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2NhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZScpO1xyXG59O1xyXG4vL9C+0YLQvtCx0YDQsNC20LDQtdGCINC60L7Qu9C40YfQtdGB0YLQstC+INC70LDQudC60L7QsiDQvdCwINC60LDRgNGC0L7Rh9C60LVcclxuZXhwb3J0IGNvbnN0IGNhcmRMaWtlc051bWJlciA9IChsaWtlLCBudW1iZXIpID0+IHtcclxuICAgIGxpa2UudGV4dENvbnRlbnQgPSBudW1iZXI7XHJcbn07XHJcbiIsIi8v0YTRg9C90LrRhtC40Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDQv9C+0L/QsNC/0LBcclxuZXhwb3J0IGNvbnN0IG9wZW5Qb3B1cCA9IChwb3B1cCkgPT4ge1xyXG4gICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfaXMtb3BlbmVkJyk7XHJcbiAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9pcy1hbmltYXRlZCcpO1xyXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7IC8v0LrQvdC+0L/QutCwINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9C+0LJcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2xvc2VQb3B1cE9uRXNjKTtcclxuICAgIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQb3B1cE9uQ2xpY2tPdXQpO1xyXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBvcHVwQnlDbG9zZUJ0bik7XHJcbn07XHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwXHJcbmV4cG9ydCBjb25zdCBjbG9zZVBvcHVwID0gKHBvcHVwKSA9PiB7XHJcbiAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9pcy1vcGVuZWQnKTtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2xvc2VQb3B1cE9uRXNjKTtcclxuICAgIHBvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQb3B1cE9uQ2xpY2tPdXQpO1xyXG5cclxuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpO1xyXG4gICAgY2xvc2VCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBvcHVwQnlDbG9zZUJ0bik7XHJcbn07XHJcblxyXG4vLyDQt9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQv9C+INC60L3QvtC/0LrQtSAo0YUpXHJcbmNvbnN0IGNsb3NlUG9wdXBCeUNsb3NlQnRuID0gKGUpID0+IHtcclxuICAgIGNvbnN0IG9wZW5lZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2lzLW9wZW5lZCcpO1xyXG4gICAgY2xvc2VQb3B1cChvcGVuZWRQb3B1cCk7XHJcbn07XHJcblxyXG4vL9C30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC/0L4g0LrQvdC+0L/QutC1IGVzY1xyXG5jb25zdCBjbG9zZVBvcHVwT25Fc2MgPSAoZSkgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgIGNvbnN0IG9wZW5lZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2lzLW9wZW5lZCcpO1xyXG4gICAgICAgIGNsb3NlUG9wdXAob3BlbmVkUG9wdXApO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy/Qt9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQutC90L7Qv9C60L7QuSDQvNGL0YjQuCDQt9CwINC/0YDQtdC00LXQu9Cw0LzQuCDQv9C+0L/QsNC/0LBcclxuY29uc3QgY2xvc2VQb3B1cE9uQ2xpY2tPdXQgPSAoZSkgPT4ge1xyXG4gICAgaWYgKGUudGFyZ2V0ID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgICBjbG9zZVBvcHVwKGUuY3VycmVudFRhcmdldCk7XHJcbiAgICB9XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24nLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b24tbm90LWFjdGl2ZScsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yLWFjdGl2ZSdcclxufTtcclxuXHJcbi8vINGE0YPQvdC60YbQuNGPINC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0L7RiNC40LHQutC4INC/0YDQuCDQstCw0LvQuNC00LDRhtC40Lgg0L/QvtC70Y9cclxuY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh2YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh2YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG59O1xyXG5cclxuLy/RhNGD0L3QutGG0LjRjyDRgdC60YDRi9GC0LjRjyDQvtGI0LjQsdC60Lgg0L/RgNC4INCy0LDQu9C40LTQsNGG0LjQuCDQv9C+0LvRj1xyXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCB2YWxpZGF0aW9uQ29uZmlnKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh2YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh2YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbn07XHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINC00LvRjyDQstCw0LvQuNC00LDRhtC40Lgg0L/QvtC70LXQuVxyXG5jb25zdCBpc1ZhbGlkID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIC8v0L/RgNC+0LLQtdGA0LrQsCDQvdCwINGA0LXQs9GD0LvRj9GA0L3QvtC1INCy0YvRgNCw0LbQtdC90LjQtVxyXG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS5wYXR0ZXJuTWlzbWF0Y2gpIHtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoaW5wdXRFbGVtZW50LmRhdGFzZXQuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICBzaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KFwiXCIpO1xyXG4gICAgICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvL9C/0YDQvtCy0LXRgNC60LAg0L3QsCDQutC+0LvQuNGH0LXRgdGC0LLQviDRgdC40LzQstC+0LvQvtCyINCyINC/0L7Qu9C1XHJcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbHVlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eShcItCy0Ysg0L/RgNC+0L/Rg9GB0YLQuNC70Lgg0Y3RgtC+INC/0L7Qu9C1LlwiKTtcclxuICAgICAgICBzaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KFwiXCIpO1xyXG4gICAgICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0L/RgNC+0LLQtdGA0LrQsCDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMXHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIHNob3dJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8v0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDRgdC+0LHRi9GC0LjQuVxyXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICBpc1ZhbGlkKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vL9C/0YDQvtCy0LXRgNC40YLRjCwg0LXRgdGC0Ywg0LvQuCDRhdC+0YLRjyDQsdGLINC+0LTQvdC+INC90LXQstCw0LvQuNC00L3QvtC1INC/0L7Qu9C1XHJcbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcclxuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy/QuNC30LzQtdC90LXQvdC40LUg0LrQvdC+0L/QutC4INGE0L7RgNC80Ysg0LLQviDQstGA0LXQvNGPINCy0LDQu9C40LTQsNGG0LjQuFxyXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpID0+IHtcclxuICAgIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh2YWxpZGF0aW9uQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vL9Cy0LrQu9GO0YfQuNGC0Ywg0LLQsNC70LjQtNCw0YbQuNGOXHJcbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHZhbGlkYXRpb25Db25maWcpID0+IHtcclxuICAgIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRpb25Db25maWcuZm9ybVNlbGVjdG9yKSk7XHJcbiAgICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50KTtcclxuICAgIH0pO1xyXG59O1xyXG4gIFxyXG4vL9C+0YfQuNGB0YLQuNGC0Ywg0LLQsNC70LjQtNCw0YbQuNGOXHJcbmV4cG9ydCBjb25zdCBjbGVhclZhbGlkYXRpb24gPSAoZm9ybUVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpID0+IHtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpXHJcbiAgICB9KTtcclxuXHJcbiAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpO1xyXG59IiwiaW1wb3J0IHsgaW5pdGlhbENhcmRzIH0gZnJvbSAnLi9jYXJkcyc7IC8v0L3QtSDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y9cclxuaW1wb3J0IHsgY3JlYXRlQ2FyZCwgZGVsZXRlQ2FyZCwgZGVsZXRlQ2FyZEVsZW1lbnQsIGNhcmRMaWtlc051bWJlciwgaGFuZGxlTGlrZXMgfSBmcm9tICcuL2NvbXBvbmVudHMvY2FyZCc7XHJcbmltcG9ydCB7IG9wZW5Qb3B1cCwgY2xvc2VQb3B1cCB9IGZyb20gJy4vY29tcG9uZW50cy9tb2RhbCc7XHJcbmltcG9ydCB7IHZhbGlkYXRpb25Db25maWcsIGVuYWJsZVZhbGlkYXRpb24sIGNsZWFyVmFsaWRhdGlvbiB9IGZyb20gJy4vY29tcG9uZW50cy92YWxpZGF0aW9uJztcclxuaW1wb3J0IHtcclxuICAgIGdldFVzZXIsXHJcbiAgICBnZXRJbml0aWFsQ2FyZHMsXHJcbiAgICBjcmVhdGVVc2VyLFxyXG4gICAgY3JlYXRlQ2FyZEFwaSxcclxuICAgIG5ld0F2YXRhckFwaVxyXG59IGZyb20gJy4vY29tcG9uZW50cy9hcGknO1xyXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcclxuXHJcbmxldCB1c2VyQXZhdGFyID0gJyc7XHJcblxyXG4vLyBET00g0YPQt9C70YtcclxuY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VzX19saXN0Jyk7XHJcbmNvbnN0IHBvcHVwRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2VkaXQnKTsgLy/Qv9C+0L/QsNC/INC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC40L3RhNC+0YDQvNCw0YbQuNC4XHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7IC8v0LrQvdC+0L/QutCwINC60LDRgNCw0L3QtNCw0YjQuNC60LBcclxuXHJcbmNvbnN0IG9wZW5Qb3B1cEFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9uZXctY2FyZCcpOyAvL9C/0L7Qv9Cw0L8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcblxyXG5jb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKTsgLy8g0LjQvNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19kZXNjcmlwdGlvbicpOyAvLyDQt9Cw0L3Rj9GC0LjQtSDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1snZWRpdC1wcm9maWxlJ107IC8v0YTQvtGA0LzQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPXHJcbmNvbnN0IG5hbWVJbnB1dCA9IGVkaXRQcm9maWxlRm9ybS5lbGVtZW50cy5uYW1lOyAvL9Cy0LLQtdC00LXQvdC90L7QtSDQuNC80Y8g0LIg0YTQvtGA0LzQtVxyXG5jb25zdCBqb2JJbnB1dCA9IGVkaXRQcm9maWxlRm9ybS5lbGVtZW50cy5kZXNjcmlwdGlvbjsgLy8g0LLQstC10LTQtdC90L3QvtC1INC30LDQvdGP0YLQuNC1INCyINGE0L7RgNC80LVcclxuXHJcbmNvbnN0IG5ld1BsYWNlRm9ybSA9IGRvY3VtZW50LmZvcm1zWyduZXctcGxhY2UnXTsgLy/RhNC+0YDQvNCwINGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGlucHV0TmV3UGxhY2VOYW1lID0gbmV3UGxhY2VGb3JtLmVsZW1lbnRzWydwbGFjZS1uYW1lJ107XHJcbmNvbnN0IGlucHV0TmV3UGxhY2VMaW5rID0gbmV3UGxhY2VGb3JtLmVsZW1lbnRzLmxpbms7XHJcblxyXG5jb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UnKTsgLy/QsNCy0LDRgtCw0YBcclxuY29uc3QgcG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9hdmF0YXInKTsvL9C/0L7Qv9Cw0L8g0LTQu9GPINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuY29uc3QgYXZhdGFyUHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1snYXZhdGFyLXByb2ZpbGUnXTsgLy/RhNC+0YDQvNCwINC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG5jb25zdCB1cmxBdmF0YXJJbnB1dCA9IGF2YXRhclByb2ZpbGVGb3JtLmVsZW1lbnRzLmxpbms7Ly/Qv9C+0LvQtSDQtNC70Y8g0LLQstC+0LTQsCDRgdGB0YvQu9C60Lgg0L3QsCDQutCw0YDRgtC40L3QutGDXHJcblxyXG5jb25zdCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2J1dHRvbicpXHJcblxyXG4vLyDQotC10LzQv9C70LXQudGCINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmQtdGVtcGxhdGUnKS5jb250ZW50O1xyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTsgLy8g0LrQsNGA0YLQuNC90LrQsCDQsiDQv9C+0L/QsNC/0LVcclxuY29uc3QgdGl0bGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FwdGlvbicpOyAvL9C30LDQs9C+0LvQvtCy0L7QulxyXG5jb25zdCBwb3B1cFR5cGVJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2ltYWdlJyk7IC8v0L/QvtC/0LDQvyDRgSDQutCw0YDRgtC40L3QutC+0LlcclxuXHJcbmNvbnN0IG9wZW5Qb3B1cEltYWdlID0gKG5hbWUsIGxpbmspID0+IHtcclxuICAgIGltYWdlUG9wdXAuc3JjID0gbGluaztcclxuICAgIHRpdGxlUG9wdXAudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgaW1hZ2VQb3B1cC5hbHQgPSBuYW1lO1xyXG4gICAgb3BlblBvcHVwKHBvcHVwVHlwZUltYWdlKTsgLy/QvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDRgSDQuNC30L7QsdGA0LDQttC10L3QuNC10Lwg0LrQsNGA0YLQuNC90LrQuFxyXG59O1xyXG5cclxuLy/QstCw0LvQuNC00LDRhtC40Y9cclxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcclxuXHJcbi8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgY2xlYXJWYWxpZGF0aW9uKGVkaXRQcm9maWxlRm9ybSwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgICBvcGVuUG9wdXAocG9wdXBFZGl0KTtcclxuICAgIG5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVUaXRsZS50ZXh0Q29udGVudDtcclxuICAgIGpvYklucHV0LnZhbHVlID0gcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50O1xyXG59KTtcclxuXHJcbi8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbm9wZW5Qb3B1cEFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBpbnB1dE5ld1BsYWNlTmFtZS52YWx1ZSA9IFwiXCI7XHJcbiAgICBpbnB1dE5ld1BsYWNlTGluay52YWx1ZSA9IFwiXCI7XHJcbiAgICBjbGVhclZhbGlkYXRpb24obmV3UGxhY2VGb3JtLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICAgIG9wZW5Qb3B1cChuZXdDYXJkUG9wdXApO1xyXG59KTtcclxuLy/Qt9Cw0L/QvtC70L3QtdC90LjQtSDRhNC+0YDQvNGLINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5uZXdQbGFjZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBzYXZlTG9hZGluZyh0cnVlKVxyXG4gICAgLy/QvtGC0L/RgNCw0LLQutCwINC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdC10YDQstC10YBcclxuICAgIGNyZWF0ZUNhcmRBcGkoeyBuYW1lOiBpbnB1dE5ld1BsYWNlTmFtZS52YWx1ZSwgbGluazogaW5wdXROZXdQbGFjZUxpbmsudmFsdWUgfSlcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoXHJcbiAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgIGNhcmRUZW1wbGF0ZSxcclxuICAgICAgICAgICAgZGVsZXRlQ2FyZEVsZW1lbnQsXHJcbiAgICAgICAgICAgIG9wZW5Qb3B1cEltYWdlLFxyXG4gICAgICAgICAgICBjYXJkTGlrZXNOdW1iZXIsXHJcbiAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgIGhhbmRsZUxpa2VzLFxyXG4gICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICk7XHJcbiAgIFxyXG4gICAgLy/QvtGC0L7QsdGA0LDQttC10L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICBjYXJkc0NvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xyXG4gICAgLy/QvtGH0LjRgdGC0LrQsCDRhNC+0YDQvNGLXHJcbiAgICBuZXdQbGFjZUZvcm0ucmVzZXQoKTtcclxuICAgIGNsb3NlUG9wdXAobmV3Q2FyZFBvcHVwKTsvL9C30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwXHJcbiAgICB9KVxyXG59KTtcclxuXHJcbi8vINGE0YPQvdC60YbQuNGPINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0YTQvtGA0LzRiyDQv9GA0L7RhNC40LvRjyDQuCDQvtGC0L/RgNCw0LLQutC4INC00LDQvdC90YvRhSDQvdCwINGB0LXRgNCy0LXRgFxyXG5jb25zdCBoYW5kbGVGb3JtU3VibWl0ID0gKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBwcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBqb2JJbnB1dC52YWx1ZTtcclxuICAgIHNhdmVMb2FkaW5nKHRydWUpO1xyXG4gICAgY3JlYXRlVXNlcih7IG5hbWU6IHByb2ZpbGVUaXRsZS50ZXh0Q29udGVudCwgYWJvdXQ6IHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCB9KTtcclxuICAgIGNsb3NlUG9wdXAocG9wdXBFZGl0KTtcclxufTtcclxuLy/QvdCw0LLQtdGB0LjQu9C4INGB0LvRg9GI0LDRgtC10LvRjCDQvdCwINGE0L7RgNC80YMg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5lZGl0UHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pdCk7XHJcblxyXG4vL9C+0YLQvtCx0YDQsNC20LXQvdC40LUg0LrQsNGA0YLQvtGH0LXQuiDRgSDRgdC10YDQstC10YDQsFxyXG5Qcm9taXNlLmFsbChbZ2V0VXNlcigpLCBnZXRJbml0aWFsQ2FyZHMoKV0pXHJcbi50aGVuKChbdXNlciwgY2FyZHNdKSA9PiB7XHJcbiAgICBwcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSB1c2VyLm5hbWU7XHJcbiAgICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB1c2VyLmFib3V0O1xyXG4gICAgdXNlckF2YXRhciA9IHVzZXIuYXZhdGFyO1xyXG4gICAgcHJvZmlsZUltYWdlLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7dXNlckF2YXRhcn0nKWApO1xyXG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChcclxuICAgICAgICAgICAgY2FyZCxcclxuICAgICAgICAgICAgY2FyZFRlbXBsYXRlLFxyXG4gICAgICAgICAgICBkZWxldGVDYXJkRWxlbWVudCxcclxuICAgICAgICAgICAgb3BlblBvcHVwSW1hZ2UsXHJcbiAgICAgICAgICAgIGNhcmRMaWtlc051bWJlcixcclxuICAgICAgICAgICAgY2FyZC5vd25lci5faWQgPT09IHVzZXIuX2lkLFxyXG4gICAgICAgICAgICBoYW5kbGVMaWtlcyxcclxuICAgICAgICAgICAgY2FyZC5saWtlcy5zb21lKGxpa2UgPT4gbGlrZS5faWQgPT09IHVzZXIuX2lkKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY2FyZHNDb250YWluZXIuYXBwZW5kKGNhcmRFbGVtZW50KTtcclxuICAgIH0pO1xyXG59KVxyXG5cclxuLy/QvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQtNC70Y8g0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbnByb2ZpbGVJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHVybEF2YXRhcklucHV0LnZhbHVlID0gXCJcIjtcclxuICAgIGNsZWFyVmFsaWRhdGlvbihhdmF0YXJQcm9maWxlRm9ybSwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgICBvcGVuUG9wdXAocG9wdXBBdmF0YXIpXHJcbn0pXHJcbi8v0LfQsNC/0L7Qu9C90LXQvdC40LUg0YTQvtGA0LzRiyDRgSDQsNCy0LDRgtCw0YDQvtC8INC4INC+0YLQv9GA0LDQstC60LAg0LTQsNC90L3Ri9GFINC90LAg0YHQtdGA0LLQtdGAXHJcbmNvbnN0IGF2YXRhckZvcm1TdWJtaXQgPSAoZXZ0KSA9PiB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHByb2ZpbGVJbWFnZS5zZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgXCJzdHlsZVwiLCBgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke3VybEF2YXRhcklucHV0LnZhbHVlfScpYFxyXG4gICAgKVxyXG4gICAgc2F2ZUxvYWRpbmcodHJ1ZSlcclxuICAgIG5ld0F2YXRhckFwaSh1cmxBdmF0YXJJbnB1dC52YWx1ZSk7XHJcbiAgICBhdmF0YXJQcm9maWxlRm9ybS5yZXNldCgpO1xyXG4gICAgY2xvc2VQb3B1cChwb3B1cEF2YXRhcik7XHJcbn1cclxuLy/QvdCw0LLQtdGB0LjQu9C4INGB0LvRg9GI0LDRgtC10LvRjCDQvdCwINGE0L7RgNC80YMg0YEg0LDQstCw0YLQsNGA0L7QvFxyXG5hdmF0YXJQcm9maWxlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhdmF0YXJGb3JtU3VibWl0KVxyXG4vL9GE0YPQvdC60YbQuNGPLCDQvNC10L3Rj9GO0YnQsNGPINGC0LXQutGB0YIg0LrQvdC+0L/QutC4INCy0L4g0LLRgNC10LzRjyDQvtC20LjQtNCw0L3QuNGPINC+0YLQv9GA0LDQstC60Lgg0YTQvtGA0LzRi1xyXG5leHBvcnQgY29uc3Qgc2F2ZUxvYWRpbmcgPSAoaXNMb2FkaW5nKSA9PiB7XHJcbiAgICBpZihpc0xvYWRpbmcpIHtcclxuICAgICAgICBidXR0b24uZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCJcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBidXR0b24uZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjb25maWciLCJiYXNlVXJsIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJoYW5kbGVSZXNwb25zZSIsInJlc3BvbnNlIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsImNvbmNhdCIsInN0YXR1cyIsImNyZWF0ZUNhcmQiLCJjYXJkIiwiY2FyZFRlbXBsYXRlIiwiZGVsZXRlQ2FyZEVsZW1lbnRGbiIsIm9wZW5Qb3B1cEltYWdlRm4iLCJjYXJkTGlrZXNOdW1iZXJGbiIsImlzTXlDYXJkIiwiaGFuZGxlTGlrZXNGbiIsImhhc015TGlrZSIsImNhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNsb25lTm9kZSIsImNhcmRJbWFnZSIsImNhcmRUaXRsZSIsImNhcmREZWxldGVCdXR0b24iLCJjYXJkTGlrZUJ1dHRvbiIsImNhcmRMaWtlc0NvbnRhaW5lciIsInNyYyIsImxpbmsiLCJhbHQiLCJuYW1lIiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FyZElkIiwiX2lkIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic3R5bGUiLCJkaXNwbGF5IiwibGlrZXMiLCJsZW5ndGgiLCJsaWtlQ2FyZCIsImRlbGV0ZUNhcmRFbGVtZW50IiwicmVtb3ZlIiwiaGFuZGxlTGlrZXMiLCJlbGVtZW50IiwibGlrZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiZGVsZXRlQ2FyZExpa2VBcGkiLCJyZXMiLCJjYXJkTGlrZXNOdW1iZXIiLCJlcnJvciIsInB1c2hMaWtlQ2FyZEFwaSIsInRvZ2dsZSIsIm51bWJlciIsIm9wZW5Qb3B1cCIsInBvcHVwIiwiYWRkIiwiY2xvc2VCdXR0b24iLCJ3aW5kb3ciLCJjbG9zZVBvcHVwT25Fc2MiLCJjbG9zZVBvcHVwT25DbGlja091dCIsImNsb3NlUG9wdXBCeUNsb3NlQnRuIiwiY2xvc2VQb3B1cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwib3BlbmVkUG9wdXAiLCJkb2N1bWVudCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJzaG93SW5wdXRFcnJvciIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJoaWRlSW5wdXRFcnJvciIsInNldEV2ZW50TGlzdGVuZXJzIiwiaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImJ1dHRvbkVsZW1lbnQiLCJmb3JFYWNoIiwidmFsaWRpdHkiLCJwYXR0ZXJuTWlzbWF0Y2giLCJzZXRDdXN0b21WYWxpZGl0eSIsImRhdGFzZXQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbHVlIiwidmFsaWQiLCJpc1ZhbGlkIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJzb21lIiwiaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJjbGVhclZhbGlkYXRpb24iLCJ1c2VyQXZhdGFyIiwiY2FyZHNDb250YWluZXIiLCJwb3B1cEVkaXQiLCJwcm9maWxlRWRpdEJ1dHRvbiIsIm9wZW5Qb3B1cEFkZENhcmRCdXR0b24iLCJuZXdDYXJkUG9wdXAiLCJwcm9maWxlVGl0bGUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJlZGl0UHJvZmlsZUZvcm0iLCJmb3JtcyIsIm5hbWVJbnB1dCIsImVsZW1lbnRzIiwiam9iSW5wdXQiLCJkZXNjcmlwdGlvbiIsIm5ld1BsYWNlRm9ybSIsImlucHV0TmV3UGxhY2VOYW1lIiwiaW5wdXROZXdQbGFjZUxpbmsiLCJwcm9maWxlSW1hZ2UiLCJwb3B1cEF2YXRhciIsImF2YXRhclByb2ZpbGVGb3JtIiwidXJsQXZhdGFySW5wdXQiLCJidXR0b24iLCJjb250ZW50IiwiaW1hZ2VQb3B1cCIsInRpdGxlUG9wdXAiLCJwb3B1cFR5cGVJbWFnZSIsIm9wZW5Qb3B1cEltYWdlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0Iiwic2F2ZUxvYWRpbmciLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpbmFsbHkiLCJkYXRhIiwicHJlcGVuZCIsInJlc2V0IiwidXNlciIsImFib3V0IiwiYWxsIiwiX3JlZiIsIl9yZWYyIiwiY2FyZHMiLCJhdmF0YXIiLCJzZXRBdHRyaWJ1dGUiLCJvd25lciIsImFwcGVuZCIsImlzTG9hZGluZyIsImVsIl0sInNvdXJjZVJvb3QiOiIifQ==